.darken
  position: absolute
  width: 100%
  height: 100%
  left: 0
  bottom: 0
  max-height: 100%
  pointer-events: none
  background: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0.3) 35%, rgba(0,0,0,0) 95%)
  &.darker
    background: linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0) 40%)


figure
  position: relative
  min-height: 48px
  margin: 2em 0
  blockquote
    min-height: 1em
    min-width: 1em
  .holder
    display: block
    position: relative
    z-index: 100
  figcaption
    display: block
    min-height: 1em
    margin: 8px 20px
    text-align: center
    z-index: 300
    cursor: text
  img
    width: 100%
    height: auto
  img[src=""]
    width: 100%
    height: 0
    display: block
    padding-bottom: 56%
    background: radial-gradient($pale, $mid)
  .cms-controls
    position: absolute
    bottom: 0
    right: 0

  &.quote
    blockquote
      font-size: 1.2em
      text-align: center
      transition: font-size 0.5s ease-out
      width: 100%
    &.shortish
      blockquote
        font-size: 1.5em
        line-height: 1.4
    &.short
      blockquote
        font-size: 2em
        line-height: 1.3
    &.veryshort
      blockquote
        font-size: 2.5em
        line-height: 1.2


.editing
  figure
    position: relative
    width: 100%
    height: 100%
    transition: background-position 0.5s ease-in-out
    background:
      repeat: no-repeat
      position: center bottom
      size: cover
    p
      color: $pale
    .cms-dropmask
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%
      display: flex
      align-items: flex-end
      justify-content: center
      p
        color: white
        pointer-events: none
        mix-blend-mode: normal
        font-size: 1rem
        text-shadow: 0 0 6px $dark
        margin: 20px 4% 72px
    &.droppable
      .cms-dropmask
        background-color: $green
        mix-blend-mode: difference
    .cms-buttons
      position: absolute
      top: 16px
      left: 16px
      width: calc(100% - 32px)
      pointer-events: none
      a.control, label.control
        margin-bottom: 0

      .picker, .styler, .config, .weighter, .remover
        display: block
        margin: 0
        pointer-events: auto
      .picker
        float: left
      .delete
        float: right
        margin: 0 4px
      .styler, .weighter
        float: right
      .thumbnails, .select
        display: inline-block
        vertical-align: top

    &:hover, &.hold
      .cms-buttons
        display: block

  figure.bg
    .cms-buttons
      .delete
        display: none
.touch
  .ed-buttons
    display: block

.cms-importer
  margin: 6px 0 20px 20px !important
  clear: both
  input, a.button
    display: inline-block
    vertical-align: top
    box-sizing: border-box
    padding: 8px 12px
    height: 36px
    font-size: 0.9rem
    line-height: 20px
    margin: 0
  input
    width: 240px
    margin-right: 0
    color: $dark
    border: 1px solid $pale
    outline: none
  a.button
    background-color: $blue
    color: white
    width: 64px
    cursor: pointer

